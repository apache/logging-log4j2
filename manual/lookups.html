<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lookups :: Apache Log4j</title>
    <link rel="canonical" href="https://logging.apache.org/log4j/3.x/manual/lookups.html">
    <meta name="generator" content="Antora 3.2.0-alpha.4">
<link rel="stylesheet" href="../_/css/site.css">
<link rel="icon" href="../_/../_images/favicon.ico" type="image/x-icon">
<!-- `@asciidoctor/tabs` extension styles -->
<link rel="stylesheet" href="../_/css/vendor/tabs.css">
<style>
  /* Default `h4` and `h5` are smaller than the normal text, fix header font sizing: */
  .doc h1 { font-size: 1.9rem; }
  .doc h2 { font-size: 1.7rem; }
  .doc h3 { font-size: 1.5rem; font-weight: 400; }
  .doc h4 { font-size: 1.3rem; font-weight: 500; }
  .doc h5 { font-size: 1.1rem; font-weight: 500; text-decoration: underline; }
  /* Tab header fonts aren't rendered good, adjusting the font weight: */
  .tablist > ul li { font-weight: 500; } 
  /* `page-toclevels` greater than 4 are not supported by Antora UI, patching it: */
  .toc .toc-menu li[data-level="4"] a {
    padding-left: 2.75rem
  }
  /* Replace the default highlight.js color for strings from red (unnecessarily signaling something negative) to green: */
  .hljs-string {
    color: #0f8532;
  }
</style>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <img src="../_/../_images/logo-small-white.png" alt="Apache Log4j"/>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://logging.apache.org">a subproject of&nbsp;<strong>Apache Logging Services</strong></a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Home</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../download.html">Download</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../runtime-dependencies.html">Runtime Dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release-notes.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="https://logging.apache.org/support.html">Support</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://logging.apache.org/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../thanks.html">Thanks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Learn</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Manual</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="migration.html">Migrating from Log4j 1.x to 2.x</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="api.html">Log4j API</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="logbuilder.html">Log Builder</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="flowtracing.html">Flow Tracing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="markers.html">Markers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="eventlogging.html">Event Logging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="messages.html">Messages</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="thread-context.html">Thread Context</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="scoped-context.html">Scoped Context</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="resource-logger.html">Resource Logging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage.html">Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cloud.html">Using Log4j in Cloud Enabled Applications</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="lookups.html">Lookups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appenders.html">Appenders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="layouts.html">Layouts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="json-template-layout.html">JSON Template Layout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="filters.html">Filters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="async.html">Lock-free Asynchronous Loggers for Low-Latency Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="garbagefree.html">Garbage-free Steady State Logging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="extending.html">Extending Log4j 3</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugins.html">Plugins</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="customconfig.html">Programmatic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="customloglevels.html">Custom Log Levels</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="logsep.html">Logging Separation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="performance.html">Performance</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../plugin-reference.html">Plugin reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../javadoc.html">Java API reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../articles.html">Articles</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../faq.html">F.A.Q.</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-api.html">Log4j API</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-1.2-api.html">Log4j 1.2 Bridge</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-slf4j-impl.html">Log4j SLF4J Binding</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-jul.html">Log4j JDK Logging Adapter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-jpl.html">Log4j JDK Platform Logging Adapter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-to-slf4j.html">Log4j to SLF4J Adapter</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-flume-ng.html">Flume Appender</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#log4j-mongodb.adoc">log4j-mongodb.adoc</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-iostreams.html">Log4j IOStreams</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-docker.html">Log4j Docker Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../log4j-spring-cloud-config-client.html">Log4j Spring Cloud Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Related projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/jakarta">Log4j Jakarta EE</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/jmx-gui">Log4j JMX GUI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/kotlin">Log4j Kotlin</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/scala">Log4j Scala</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/tools">Log4j Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/transform">Log4j Transformation Tools</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Home</a></li>
    <li>Learn</li>
    <li><a href="index.html">Manual</a></li>
    <li><a href="lookups.html">Lookups</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/apache/logging-log4j2/edit/main/src/site/antora/modules/ROOT/pages/manual/lookups.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="4">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Lookups</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Lookups provide a way to add values to the Log4j configuration at
arbitrary places. They are a particular type of Plugin that implements
the
<a href="../javadoc/log4j-core/org/apache/logging/log4j/core/lookup/StrLookup.html"><code>StrLookup</code></a>
interface. Information on how to use Lookups in configuration files can
be found in the <a href="configuration.html#PropertySubstitution" class="xref page">Property
Substitution</a> section of the <a href="configuration.html" class="xref page">Configuration</a>
page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ContextMapLookup"><a class="anchor" href="#ContextMapLookup"></a>Context Map Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The ContextMapLookup allows applications to store data in the Log4j
ThreadContext Map and then retrieve the values in the Log4j
configuration. In the example below, the application would store the
current user&#8217;s login id in the ThreadContext Map with the key "loginId".
During initial configuration processing the first '$' will be removed.
The PatternLayout supports interpolation with Lookups and will then
resolve the variable for each event. Note that the pattern
"%X{loginId}" would achieve the same result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] $${ctx:loginId} %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="DateLookup"><a class="anchor" href="#DateLookup"></a>Date Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The DateLookup is somewhat unusual from the other lookups as it doesn&#8217;t
use the key to locate an item. Instead, the key can be used to specify a
date format string that is valid for
<a href="http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html">SimpleDateFormat</a>.
The current date, or the date associated with the current log event will
be formatted as specified.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;RollingFile name="Rolling-${map:type}" fileName="${filename}" filePattern="target/rolling1/test1-$${date:MM-dd-yyyy}.%i.log.gz"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
  &lt;SizeBasedTriggeringPolicy size="500" /&gt;
&lt;/RollingFile&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="DockerLookup"><a class="anchor" href="#DockerLookup"></a>Docker Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The DockerLookup can be used to lookup attributes from the Docker container the application is running in.</p>
</div>
<div class="paragraph">
<p>Log4j Docker provides access to the following container attributes:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>containerId</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The full id assigned to the container.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>containerName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name assigned to the container.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageId</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The id assigned to the image.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>imageName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The name assigned to the image.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shortContainerId</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The first 12 characters of the container id.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>shortImageId</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The first 12 characters of the image id.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;JsonTemplateLayout&gt;
  &lt;EventTemplateAdditionalField key="containerId" value="${docker:containerId}"/&gt;
  &lt;EventTemplateAdditionalField key="containerName" value="${docker:containerName}"/&gt;
  &lt;EventTemplateAdditionalField key="imageName" value="${docker:imageName}"/&gt;
&lt;/JsonTemplateLayout&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This Lookup is subject to the requirements listed at <a href="../log4j-docker.html" class="xref page">Log4j Docker Support</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="EnvironmentLookup"><a class="anchor" href="#EnvironmentLookup"></a>Environment Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The EnvironmentLookup allows systems to configure environment variables,
either in global files such as /etc/profile or in the startup scripts
for applications, and then retrieve those variables from within the
logging configuration. The example below includes the name of the
currently logged in user in the application log.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] $${env:USER} %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This lookup also supports default value syntax. In the sample below,
when the <code>USER</code> environment variable is undefined, the default value
<code>jdoe</code> is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] $${env:USER:-jdoe} %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="EventLookup"><a class="anchor" href="#EventLookup"></a>Event Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The EventLookup provides access to fields within the log event from the configuration.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Exception</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the simple class name of the Exception, if one is included in the event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Level</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the logging Level of the event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Logger</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the name of the Logger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Marker</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the name of the Marker associated with the log event, if one is present.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Message</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the formatted Message string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ThreadId</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the thread id associated with the log event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ThreadName</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the name of the thread associate with the log event.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Timestamp</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the time in milliseconds when the event occurred.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In this example the RoutingAppender picks a route based on the presence of a Marker named "AUDIT" being
present in the log event.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Configuration status="WARN" name="RoutingTest"&gt;
  &lt;Appenders&gt;
    &lt;Console name="STDOUT" target="SYSTEM_OUT" /&gt;
    &lt;Flume name="AuditLogger" compress="true"&gt;
      &lt;Agent host="192.168.10.101" port="8800"/&gt;
      &lt;Agent host="192.168.10.102" port="8800"/&gt;
      &lt;RFC5424Layout enterpriseNumber="18060" includeMDC="true" appName="MyApp"/&gt;
    &lt;/Flume&gt;
    &lt;Routing name="Routing"&gt;
      &lt;Routes&gt;
        &lt;Route pattern="$${event:Marker}"&gt;
          &lt;RollingFile
              name="Rolling-${mdc:UserId}"
              fileName="${mdc:UserId}.log"
              filePattern="${mdc:UserId}.%i.log.gz"&gt;
            &lt;PatternLayout&gt;
              &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;
            &lt;/PatternLayout&gt;
            &lt;SizeBasedTriggeringPolicy size="500" /&gt;
          &lt;/RollingFile&gt;
        &lt;/Route&gt;
        &lt;Route ref="AuditLogger" key="AUDIT"/&gt;
        &lt;Route ref="STDOUT" key="STDOUT"/&gt;
      &lt;/Routes&gt;
      &lt;IdlePurgePolicy timeToLive="15" timeUnit="minutes"/&gt;
    &lt;/Routing&gt;
  &lt;/Appenders&gt;
  &lt;Loggers&gt;
    &lt;Root level="error"&gt;
      &lt;AppenderRef ref="Routing" /&gt;
    &lt;/Root&gt;
  &lt;/Loggers&gt;
&lt;/Configuration&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="JavaLookup"><a class="anchor" href="#JavaLookup"></a>Java Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The JavaLookup allows Java environment information to be retrieved in
convenient preformatted strings using the <code>java:</code> prefix.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The short Java version, like:</p>
</div>
<div class="paragraph">
<p><code>Java version 1.7.0_67</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>runtime</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Java runtime version, like:</p>
</div>
<div class="paragraph">
<p><code>Java&#8482; SE Runtime Environment (build 1.7.0_67-b01) from Oracle Corporation</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vm</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The Java VM version, like:</p>
</div>
<div class="paragraph">
<p><code>Java HotSpot&#8482; 64-Bit Server VM (build 24.65-b04, mixed mode)</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>os</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The OS version, like:</p>
</div>
<div class="paragraph">
<p><code>Windows 7 6.1 Service Pack 1, architecture: amd64-64</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locale</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hardware information, like:</p>
</div>
<div class="paragraph">
<p><code>default locale: en_US, platform encoding: Cp1252</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hw</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>System locale and file encoding information, like:</p>
</div>
<div class="paragraph">
<p><code>processors: 4, architecture: amd64-64, instruction sets: amd64</code></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout header="${java:runtime} - ${java:vm} - ${java:os}"&gt;
    &lt;Pattern&gt;%d %m%n&lt;/Pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="JndiLookup"><a class="anchor" href="#JndiLookup"></a>JNDI Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As of Log4j 2.15.1 JNDI operations require that <code>log4j2.enableJndi=true</code> be set as a system property or the
corresponding environment variable for this lookup to function. See the
<a href="configuration.html#enableJndiLookup" class="xref page">log4j2.enableJndiLookup</a> system property.</p>
</div>
<div class="paragraph">
<p>The JndiLookup allows variables to be retrieved via JNDI. By default the
key will be prefixed with java:comp/env/, however if the key contains a
":" no prefix will be added.</p>
</div>
<div class="paragraph">
<p>By default the JNDI Lookup only supports the java, ldap, and ldaps protocols or no protocol. Additional
protocols may be supported by specifying them on the <code>log4j2.allowedJndiProtocols</code> property.
When using LDAP Java classes that implement the Referenceable interface are not supported for security
reasons. Only the Java primative classes are supported by default as well as any classes specified by the
<code>log4j2.allowedLdapClasses</code> property. When using LDAP only references to the local host name
or ip address are supported along with any hosts or ip addresses listed in the
<code>log4j2.allowedLdapHosts</code> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] $${jndi:logging/context-name} %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Java&#8217;s JNDI module is not available on Android.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="JmxRuntimeInputArgumentsLookup"><a class="anchor" href="#JmxRuntimeInputArgumentsLookup"></a>JVM Input Arguments Lookup (JMX)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Maps JVM input arguments&#8201;&#8212;&#8201;but not <em>main</em> arguments&#8201;&#8212;&#8201;using JMX to
acquire the JVM arguments.</p>
</div>
<div class="paragraph">
<p>Use the prefix <code>jvmrunargs</code> to access JVM arguments.</p>
</div>
<div class="paragraph">
<p>See the Javadocs for
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/management/RuntimeMXBean.html#getInputArguments--">java.lang.management.RuntimeMXBean.getInputArguments()</a>.</p>
</div>
<div class="paragraph">
<p><strong>Java&#8217;s JMX module is not available on Android or on Google App Engine.</strong></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="KubernetesLookup"><a class="anchor" href="#KubernetesLookup"></a>Kubernetes Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For retrieving attributes using Fabric8&#8217;s Kubernetes Client, see their <a href="https://github.com/fabric8io/kubernetes-client/blob/main/doc/KubernetesLog4j.md">Kubernetes Log4j Lookup</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Log4jConfigLookup"><a class="anchor" href="#Log4jConfigLookup"></a>Log4j Configuration Location Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Log4j configuration properties. The expressions
<code>${log4j:configLocation}</code> and <code>${log4j:configParentLocation}</code>
respectively provide the absolute path to the log4j configuration file
and its parent folder.</p>
</div>
<div class="paragraph">
<p>The example below uses this lookup to place log files in a directory
relative to the log4j configuration file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="${log4j:configParentLocation}/logs/application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="LowerLookup"><a class="anchor" href="#LowerLookup"></a>Lower Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The LowerLookup converts the passed in argument to lower case. Presumably the value will be the
result of a nested lookup.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] $${lower:${spring:spring.application.name}} %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="AppMainArgsLookup"><a class="anchor" href="#AppMainArgsLookup"></a>Main Arguments Lookup (Application)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This lookup requires that you manually provide the main arguments of the
application to Log4j:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import org.apache.logging.log4j.core.lookup.MainMapLookup;
public class Main {
    public static void main(String[] args) {
      MainMapLookup.setMainArguments(args);
      // ...
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the main arguments have been set, this lookup allows applications to
retrieve these main argument values from within the logging
configuration. The key that follows the <code>main:</code> prefix can either be a
0-based index into the argument list, or a string, where
<code>${main:myString}</code> is substituted with the value that follows <code>myString</code>
in the main argument list.</p>
</div>
<div class="paragraph">
<p>Note: Many applications use leading dashes to identify command arguments. Specifying
<code>${main:--file}</code> would result in the lookup failing because it would look for a variable
named "main" with a default value of "-file". To avoid this the ":" separating the Lookup name from the
key must be followed by a backslash as an escape character as in <code>${main:\--file}</code>.</p>
</div>
<div class="paragraph">
<p>For example, suppose the static void main String[] arguments are:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>--file foo.txt --verbose -x bar</pre>
</div>
</div>
<div class="paragraph">
<p>Then the following substitutions are possible:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Expression</th>
<th class="tableblock halign-left valign-top">Result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:0}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--file</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:1}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>foo.txt</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:2}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--verbose</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:3}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-x</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:4}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bar</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:\--file}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>foo.txt</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:\-x}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bar</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:bar}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>null</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>${main:\--quiet:-true}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout header="File: ${main:--file}"&gt;
    &lt;Pattern&gt;%d %m%n&lt;/Pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="MapLookup"><a class="anchor" href="#MapLookup"></a>Map Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The MapLookup serves several purposes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Provide the base for Properties declared in the configuration file.</p>
</li>
<li>
<p>Retrieve values from MapMessages in LogEvents.</p>
</li>
<li>
<p>Retrieve values set with
<a href="../javadoc/log4j-core/org/apache/logging/log4j/core/lookup/MapLookup.html#setMainArguments%28java.lang.String%5B%5D%29">MapLookup.setMainArguments(String[</a>)]</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first item simply means that the MapLookup is used to substitute
properties that are defined in the configuration file. These variables
are specified without a prefix - e.g. <code>${name}</code>. The second usage allows
a value from the current
<a href="../javadoc/log4j-api/org/apache/logging/log4j/message/MapMessage.html"><code>MapMessage</code></a>,
if one is part of the current log event, to be substituted. In the
example below the RoutingAppender will use a different
RollingFileAppender for each unique value of the key named "type" in the
MapMessage. Note that when used this way a value for "type" should be
declared in the properties declaration to provide a default value in
case the message is not a MapMessage or the MapMessage does not contain
the key. See the <a href="configuration.html#PropertySubstitution" class="xref page">Property
Substitution</a> section of the <a href="configuration.html" class="xref page">Configuration</a>
page for information on how to set the default values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;Routing name="Routing"&gt;
  &lt;Routes pattern="$${map:type}"&gt;
    &lt;Route&gt;
      &lt;RollingFile name="Rolling-${map:type}" fileName="${filename}"
                   filePattern="target/rolling1/test1-${map:type}.%i.log.gz"&gt;
        &lt;PatternLayout&gt;
          &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;
        &lt;/PatternLayout&gt;
        &lt;SizeBasedTriggeringPolicy size="500" /&gt;
      &lt;/RollingFile&gt;
    &lt;/Route&gt;
  &lt;/Routes&gt;
&lt;/Routing&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_marker_lookup"><a class="anchor" href="#_marker_lookup"></a>Marker Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The marker lookup allows you to use markers in interesting
configurations like a routing appender. Consider the following YAML
configuration and code that logs to different files based on markers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Configuration:
  status: debug

  Appenders:
    Console:
    RandomAccessFile:
      - name: SQL_APPENDER
        fileName: logs/sql.log
        PatternLayout:
          Pattern: "%d{ISO8601_BASIC} %-5level %logger{1} %X %msg%n"
      - name: PAYLOAD_APPENDER
        fileName: logs/payload.log
        PatternLayout:
          Pattern: "%d{ISO8601_BASIC} %-5level %logger{1} %X %msg%n"
      - name: PERFORMANCE_APPENDER
        fileName: logs/performance.log
        PatternLayout:
          Pattern: "%d{ISO8601_BASIC} %-5level %logger{1} %X %msg%n"

    Routing:
      name: ROUTING_APPENDER
      Routes:
        pattern: "$${marker:}"
        Route:
        - key: PERFORMANCE
          ref: PERFORMANCE_APPENDER
        - key: PAYLOAD
          ref: PAYLOAD_APPENDER
        - key: SQL
          ref: SQL_APPENDER

  Loggers:
    Root:
      level: trace
      AppenderRef:
        - ref: ROUTING_APPENDER</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static final Marker SQL = MarkerFactory.getMarker("SQL");
public static final Marker PAYLOAD = MarkerFactory.getMarker("PAYLOAD");
public static final Marker PERFORMANCE = MarkerFactory.getMarker("PERFORMANCE");

final Logger logger = LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);

logger.info(SQL, "Message in Sql.log");
logger.info(PAYLOAD, "Message in Payload.log");
logger.info(PERFORMANCE, "Message in Performance.log");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the key part of the configuration is <code>pattern: "$${marker:}"</code>. This
will produce three log files, each with a log event for a specific
marker. Log4j will route the log event with the <code>SQL</code> marker to
<code>sql.log</code>, the log event with the <code>PAYLOAD</code> marker to <code>payload.log</code>, and
so on.</p>
</div>
<div class="paragraph">
<p>You can use the notation <code>"${marker:name}"</code> and <code>"$${marker:name}"</code> to
check for the existence of a marker where <code>name</code> is the marker name. If
the marker exists, the expression returns the name, otherwise <code>null</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="StructuredDataLookup"><a class="anchor" href="#StructuredDataLookup"></a>Structured Data Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The StructuredDataLookup is very similar to the MapLookup in that it
will retrieve values from StructuredDataMessages. In addition to the Map
values it will also return the name portion of the id (not including the
enterprise number) and the type field. The main difference between the
example below and the example for MapMessage is that the "type" is an
attribute of the
<a href="../javadoc/log4j-api/org/apache/logging/log4j/message/StructuredDataMessage.html">StructuredDataMessage</a>
while "type" would have to be an item in the Map in a MapMessage.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;Routing name="Routing"&gt;
  &lt;Routes pattern="$${sd:type}"&gt;
    &lt;Route&gt;
      &lt;RollingFile name="Rolling-${sd:type}" fileName="${filename}"
                   filePattern="target/rolling1/test1-${sd:type}.%i.log.gz"&gt;
        &lt;PatternLayout&gt;
          &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;
        &lt;/PatternLayout&gt;
        &lt;SizeBasedTriggeringPolicy size="500" /&gt;
      &lt;/RollingFile&gt;
    &lt;/Route&gt;
  &lt;/Routes&gt;
&lt;/Routing&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="SystemPropertiesLookup"><a class="anchor" href="#SystemPropertiesLookup"></a>System Properties Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As it is quite common to define values inside and outside the
application by using System Properties, it is only natural that they
should be accessible via a Lookup. As system properties are often
defined outside the application it would be quite common to see
something like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;Appenders&gt;
  &lt;File name="ApplicationLog" fileName="${sys:logPath}/app.log"/&gt;
&lt;/Appenders&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This lookup also supports default value syntax. In the sample below,
when the <code>logPath</code> system property is undefined, the default value
<code>/var/logs</code> is used:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;Appenders&gt;
  &lt;File name="ApplicationLog" fileName="${sys:logPath:-/var/logs}/app.log"/&gt;
&lt;/Appenders&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="UpperLookup"><a class="anchor" href="#UpperLookup"></a>Upper Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The LowerLookup converts the passed in argument to upper case. Presumably the value will be the
result of a nested lookup.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;File name="Application" fileName="application.log"&gt;
  &lt;PatternLayout&gt;
    &lt;pattern&gt;%d %p %c{1.} [%t] $${upper:{${spring:spring.application.name}} %m%n&lt;/pattern&gt;
  &lt;/PatternLayout&gt;
&lt;/File&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="WebLookup"><a class="anchor" href="#WebLookup"></a>Web Lookup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The WebLookup allows applications to retrieve variables that are
associated with the ServletContext. In addition to being able to
retrieve various fields in the ServletContext, WebLookup supports
looking up values stored as attributes or configured as initialization
parameters. The following table lists various keys that can be
retrieved:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attr.<em>name</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the ServletContext attribute with the specified name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contextPath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The context path of the web application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contextPathName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The first token in the context path of the web application splitting on "/" characters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>effectiveMajorVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets the major version of the Servlet specification that the application
represented by this ServletContext is based on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>effectiveMinorVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gets the minor version of the Servlet specification that the application
represented by this ServletContext is based on.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initParam.<em>name</em></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the ServletContext initialization parameter with the specified name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>majorVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the major version of the Servlet API that this servlet container supports.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minorVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the minor version of the Servlet API that this servlet container supports.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rootDir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the result of calling getRealPath with a value of "/".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>serverInfo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the name and version of the servlet container on which the servlet is running.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>servletContextName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the name of the web application as defined in the display-name element of the deployment descriptor</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Any other key names specified will first be checked to see if a
ServletContext attribute exists with that name and then will be checked
to see if an initialization parameter of that name exists. If the key is
located then the corresponding value will be returned.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;Appenders&gt;
  &lt;File name="ApplicationLog" fileName="${web:rootDir}/app.log"/&gt;
&lt;/Appenders&gt;</code></pre>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>
    Copyright Â© 1999-2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>.
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache Software License, Version 2.0</a>.
    Please read our <a href="https://privacy.apache.org/policies/privacy-policy-public.html">privacy policy</a>.
  </p>
  <p>
    Apache, Log4j, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.
    Oracle and Java are registered trademarks of Oracle and/or its affiliates.
    Other names may be trademarks of their respective owners.
  </p>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<!-- `@asciidoctor/tabs` extension scripts -->
<script async src="../_/js/vendor/tabs.js"></script>
  </body>
</html>

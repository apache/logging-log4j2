<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Release Notes :: Apache Log4j</title>
    <link rel="canonical" href="https://logging.apache.org/log4j/3.x/release-notes.html">
    <meta name="generator" content="Antora 3.2.0-alpha.4">
<link rel="stylesheet" href="./_/css/site.css">
<link rel="icon" href="./_/../_images/favicon.ico" type="image/x-icon">
<!-- `@asciidoctor/tabs` extension styles -->
<link rel="stylesheet" href="./_/css/vendor/tabs.css">
<style>
  /* Default `h4`, `h5`, and `h6` are smaller than the normal text, fix header font sizing: */
  .doc h1 { font-size: 1.9rem; }
  .doc h2 { font-size: 1.7rem; }
  .doc h3 { font-size: 1.5rem; font-weight: 400; }
  .doc h4 { font-size: 1.3rem; font-weight: 500; }
  .doc h5 { font-size: 1.1rem; font-weight: 500; text-decoration: underline; }
  .doc h6 { font-size: 0.9rem; font-weight: 500; text-decoration: underline; }
  /* Default `code`, `pre`, and `.colist` (source code annotations) fonts are too big, adjust them: */
  .doc .colist>table code, .doc p code, .doc thead code { font-size: 0.8em; }
  .doc pre { font-size: 0.7rem; }
  .doc .colist { font-size: 0.75rem; }
  /* Make links more visible: */
  .doc a { text-decoration: underline; }
  .doc a code { text-decoration: underline; color: #1565c0; }
  /* Tab header fonts aren't rendered good, adjusting the font weight: */
  .tablist > ul li { font-weight: 500; }
  /* `page-toclevels` greater than 4 are not supported by Antora UI, patching it: */
  .toc .toc-menu li[data-level="4"] a {
    padding-left: 2.75rem;
  }
  /* Replace the default highlight.js color for strings from red (unnecessarily signaling something negative) to green: */
  .hljs-string {
    color: #0f8532;
  }
</style>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <img src="./_/../_images/logo-small-white.png" alt="Apache Log4j"/>
      </div>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://logging.apache.org">a subproject of&nbsp;<strong>Apache Logging Services</strong></a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Home</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="download.html">Download</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="release-notes.html">Release Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="https://logging.apache.org/support.html">Support</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://logging.apache.org/security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="thanks.html">Thanks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/index.html">Manual</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual/getting-started.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual/installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual/architecture.html">Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual/api.html">API</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/configuration.html">Configuration file</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/systemproperties.html">Configuration properties</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/customconfig.html">Programmatic Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/appenders.html">Appenders</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/layouts.html">Layouts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="manual/json-template-layout.html">JSON Template Layout</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/lookups.html">Lookups</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/filters.html">Filters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/scripts.html">Scripts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/jmx.html">JMX</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/extending.html">Extending</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/plugins.html">Plugins</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="manual/performance.html">Performance</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/async.html">Asynchronous loggers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="manual/garbagefree.html">Garbage-free logging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="plugin-reference.html">Plugin reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="javadoc.html">Java API reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="faq.html">F.A.Q.</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual/migration.html">Migrating from Log4j 2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="migrate-from-logback.html">Migrating from Logback</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="migrate-from-slf4j.html">Migrating from SLF4J</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="hibernate.html">Integrating with Hibernate</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="manual/cloud.html">Using Log4j in Cloud Enabled Applications</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="development.html">Development</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-flume-ng.html">Flume Appender</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-iostreams.html">Log4j IOStreams</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-docker.html">Log4j Docker Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="log4j-spring-cloud-config-client.html">Log4j Spring Cloud Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Related projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://logging.apache.org/log4j/2.x">Log4j 2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/jakarta">Log4j Jakarta EE</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/jmx-gui">Log4j JMX GUI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/kotlin">Log4j Kotlin</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/scala">Log4j Scala</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/tools">Log4j Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="/log4j/transform">Log4j Transformation Tools</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="download.html">Download</a></li>
    <li><a href="release-notes.html">Release Notes</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/apache/logging-log4j2/edit/main/src/site/antora/modules/ROOT/pages/release-notes.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="1">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Release Notes</h1>
<div class="sect1">
<h2 id="release-notes-3-x-x"><a class="anchor" href="#release-notes-3-x-x"></a>3.x.x</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release contains&#8230;&#8203;</p>
</div>
<div class="sect2">
<h3 id="release-notes-3-x-x-added"><a class="anchor" href="#release-notes-3-x-x-added"></a>Added</h3>
<div class="ulist">
<ul>
<li>
<p>Add <em>"Plugin Reference"</em> to the website. It is a Javadoc-on-steroids focusing on Log4j plugins. (<a href="https://github.com/apache/logging-log4j2/issues/1954">1954</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-x-x-changed"><a class="anchor" href="#release-notes-3-x-x-changed"></a>Changed</h3>
<div class="ulist">
<ul>
<li>
<p>Remove <code>log4j-kubernetes</code> lookup. User should migrate to <a href="https://github.com/fabric8io/kubernetes-client/blob/main/doc/KubernetesLog4j.md"><code>kubernetes-log4j</code></a> (<a href="https://github.com/apache/logging-log4j2/pull/2408">2408</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-x-x-fixed"><a class="anchor" href="#release-notes-3-x-x-fixed"></a>Fixed</h3>
<div class="ulist">
<ul>
<li>
<p>Website is migrated to Antora with several formatting and link fixes (<a href="https://github.com/apache/logging-log4j2/pull/2443">2443</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-x-x-removed"><a class="anchor" href="#release-notes-3-x-x-removed"></a>Removed</h3>
<div class="ulist">
<ul>
<li>
<p>Remove CLI tools to generate logger wrappers and convert configuration files. These tools will be available in the next release of <a href="https://logging.apache.org/log4j/transform/latest/">Log4j Transform</a>.</p>
</li>
<li>
<p>Remove deprecated <code>org.apache.logging.log4j.core.appender.rolling.action.Duration</code> class.</p>
</li>
<li>
<p>Remove <code>log4j-1.2-api</code> module (<a href="https://github.com/apache/logging-log4j2/pull/2621">2621</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-x-x-updated"><a class="anchor" href="#release-notes-3-x-x-updated"></a>Updated</h3>
<div class="ulist">
<ul>
<li>
<p>Rename the log4j-mongodb4, module, package, and classes in favor of log4j-mongodb, in other words, drop the <code>4</code>; tracks the current MongoDB client driver.</p>
</li>
<li>
<p>Update <code>apache/logging-parent</code> to version `` (<a href="https://github.com/apache/logging-log4j2/pull/2598">2598</a>)</p>
</li>
<li>
<p>Update <code>co.elastic.logging:log4j2-ecs-layout</code> to version <code>1.6.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2303">2303</a>)</p>
</li>
<li>
<p>Update <code>com.fasterxml.jackson:jackson-bom</code> to version <code>2.17.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2567">2567</a>)</p>
</li>
<li>
<p>Update <code>com.github.luben:zstd-jni</code> to version <code>1.5.6-3</code> (<a href="https://github.com/apache/logging-log4j2/pull/2504">2504</a>)</p>
</li>
<li>
<p>Update <code>com.github.tomakehurst:wiremock-jre8</code> to version <code>2.35.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/2305">2305</a>)</p>
</li>
<li>
<p>Update <code>com.google.guava:guava</code> to version <code>33.2.0-jre</code> (<a href="https://github.com/apache/logging-log4j2/pull/2563">2563</a>)</p>
</li>
<li>
<p>Update <code>commons-codec:commons-codec</code> to version <code>1.17.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2544">2544</a>)</p>
</li>
<li>
<p>Update <code>commons-io:commons-io</code> to version <code>2.16.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2456">2456</a>)</p>
</li>
<li>
<p>Update <code>commons-logging:commons-logging</code> to version <code>1.3.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/2586">2586</a>)</p>
</li>
<li>
<p>Update <code>io.netty:netty-bom</code> to version `` (<a href="https://github.com/apache/logging-log4j2/pull/2603">2603</a>)</p>
</li>
<li>
<p>Update <code>net.bytebuddy:byte-buddy</code> to version <code>1.14.17</code> (<a href="https://github.com/apache/logging-log4j2/pull/2628">2628</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-compress</code> to version <code>1.26.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/2611">2611</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-csv</code> to version <code>1.11.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2562">2562</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-dbcp2</code> to version <code>2.12.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2342">2342</a>)</p>
</li>
<li>
<p>Update <code>org.apache.groovy:groovy-bom</code> to version <code>4.0.21</code> (<a href="https://github.com/apache/logging-log4j2/pull/2457">2457</a>)</p>
</li>
<li>
<p>Update <code>org.apache.logging.log4j:log4j-docgen-maven-plugin</code> to version <code>0.9.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2579">2579</a>)</p>
</li>
<li>
<p>Update <code>org.apache.logging:logging-parent</code> to version `` (<a href="https://github.com/apache/logging-log4j2/pull/2599">2599</a>)</p>
</li>
<li>
<p>Update <code>org.apache.maven:maven-core</code> to version <code>3.9.7</code> (<a href="https://github.com/apache/logging-log4j2/pull/2615">2615</a>)</p>
</li>
<li>
<p>Update <code>org.apache.tomcat:tomcat-juli</code> to version <code>10.1.24</code> (<a href="https://github.com/apache/logging-log4j2/pull/2580">2580</a>)</p>
</li>
<li>
<p>Update <code>org.assertj:assertj-core</code> to version <code>3.26.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2617">2617</a>)</p>
</li>
<li>
<p>Update <code>org.awaitility:awaitility</code> to version <code>4.2.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2388">2388</a>)</p>
</li>
<li>
<p>Update <code>org.eclipse.platform:org.eclipse.osgi</code> to version <code>3.19.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2367">2367</a>)</p>
</li>
<li>
<p>Update <code>org.elasticsearch.client:elasticsearch-rest-high-level-client</code> to version <code>7.17.21</code> (<a href="https://github.com/apache/logging-log4j2/pull/2559">2559</a>)</p>
</li>
<li>
<p>Update <code>org.graalvm.truffle:truffle-api</code> to version <code>24.0.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2478">2478</a>)</p>
</li>
<li>
<p>Update <code>org.hdrhistogram:HdrHistogram</code> to version <code>2.2.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/2629">2629</a>)</p>
</li>
<li>
<p>Update <code>org.hsqldb:hsqldb</code> to version <code>2.7.3</code> (<a href="https://github.com/apache/logging-log4j2/pull/2633">2633</a>)</p>
</li>
<li>
<p>Update <code>org.javassist:javassist</code> to version <code>3.30.2-GA</code> (<a href="https://github.com/apache/logging-log4j2/pull/2432">2432</a>)</p>
</li>
<li>
<p>Update <code>org.mockito:mockito-bom</code> to version <code>5.12.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2575">2575</a>)</p>
</li>
<li>
<p>Update <code>org.mongodb:bson</code> to version <code>5.1.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2554">2554</a>)</p>
</li>
<li>
<p>Update <code>org.slf4j:slf4j-api</code> to version <code>2.0.13</code> (<a href="https://github.com/apache/logging-log4j2/pull/2473">2473</a>)</p>
</li>
<li>
<p>Update <code>org.springframework.boot:spring-boot-autoconfigure</code> to version <code>3.3.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2610">2610</a>)</p>
</li>
<li>
<p>Update <code>org.springframework.cloud:spring-cloud-context</code> to version <code>4.1.3</code> (<a href="https://github.com/apache/logging-log4j2/pull/2635">2635</a>)</p>
</li>
<li>
<p>Update <code>org.springframework:spring-framework-bom</code> to version <code>6.1.8</code> (<a href="https://github.com/apache/logging-log4j2/pull/2606">2606</a>)</p>
</li>
<li>
<p>Update <code>org.xmlunit:xmlunit-core</code> to version <code>2.10.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2545">2545</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-notes-3-0-0-beta2"><a class="anchor" href="#release-notes-3-0-0-beta2"></a>3.0.0-beta2</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This release provides a continuation of the modularisation process of Log4j Core.
The following features were moved to separate artifacts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The async logger feature was moved to <code>log4j-async-logger</code> and it was upgraded to use LMAX Disruptor 4.x.
The async appender is still available by default in <code>log4j-core</code>.</p>
</li>
<li>
<p>The YAML configuration is available now in <code>log4j-config-yaml</code>.</p>
</li>
<li>
<p>The Java properties configuration was removed and replaced with a similar format based on <a href="https://github.com/FasterXML/jackson-dataformats-text/tree/2.17/properties"><code>jackson-dataformat-properties</code></a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Other features were removed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jetty 9.x users are encouraged to migrate to Jetty 10.x or later and replace <code>log4j-appserver</code> with <code>log4j-slf4j2-impl</code>.</p>
</li>
<li>
<p>Tomcat JULI support will be available from a third-party (cf. <a href="https://github.com/copernik-eu/log4j-plugins/pull/102">copernik-eu/log4j-plugins</a>).</p>
</li>
<li>
<p>Apache Commons Logging users are encouraged to upgrade <code>commons-logging</code> to version 1.3.0 or later and remove <code>log4j-jcl</code>.</p>
</li>
<li>
<p>Support for the XML layout was dropped.</p>
</li>
<li>
<p>Support for JMX was dropped and will be replaced with a more recent technology.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta2-added"><a class="anchor" href="#release-notes-3-0-0-beta2-added"></a>Added</h3>
<div class="ulist">
<ul>
<li>
<p>Add and update DSLs for setting up dependency injection for test and non-test code. (<a href="https://github.com/apache/logging-log4j2/issues/2147">2147</a>)</p>
</li>
<li>
<p>Add a <code>ConfigurationExtension</code> mechanism to allow third-party JARs to extend the <code>&lt;Configuration&gt;</code> element.</p>
</li>
<li>
<p>Add a new properties configuration factory based on <code>jackson-dataformat-properties</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta2-changed"><a class="anchor" href="#release-notes-3-0-0-beta2-changed"></a>Changed</h3>
<div class="ulist">
<ul>
<li>
<p>Change the order of evaluation of <code>FormattedMessage</code> formatters. Messages are evaluated using <code>java.util.Format</code> only if they don&#8217;t comply to the <code>java.text.MessageFormat</code> or <code>ParameterizedMessage</code> format. (<a href="https://github.com/apache/logging-log4j2/issues/1223">1223</a>)</p>
</li>
<li>
<p>Split off async logger support into a new <code>log4j-async-logger</code> module.</p>
</li>
<li>
<p>Split off YAML configuration into a new <code>log4j-config-yaml</code> module.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta2-fixed"><a class="anchor" href="#release-notes-3-0-0-beta2-fixed"></a>Fixed</h3>
<div class="ulist">
<ul>
<li>
<p>Rewrote message parameter formatter with improved escape handling (<a href="https://github.com/apache/logging-log4j2/issues/1626">1626</a>)</p>
</li>
<li>
<p>The MongoDb4 appender now supports long values to configure <code>collectionSize</code> (<a href="https://github.com/apache/logging-log4j2/issues/1747">1747</a>)</p>
</li>
<li>
<p>Mark <code>JdkMapAdapterStringMap</code> as frozen if map is immutable. (<a href="https://github.com/apache/logging-log4j2/issues/2098">2098</a>)</p>
</li>
<li>
<p>Fix regression in <code>JdkMapAdapterStringMap</code> performance. (<a href="https://github.com/apache/logging-log4j2/issues/2238">2238</a>)</p>
</li>
<li>
<p>Prevents ClassCastException when trying to assign a SimpleLoggerContext to a core LoggerContext (<a href="https://issues.apache.org/jira/browse/LOG4J2-1921">LOG4J2-1921</a>)</p>
</li>
<li>
<p>Possible NullPointerException in MongoDb4DocumentObject, MongoDbDocumentObject, DefaultNoSqlObject. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3392">LOG4J2-3392</a>)</p>
</li>
<li>
<p>Fix NPE in <code>CloseableThreadContext</code>. (<a href="https://github.com/apache/logging-log4j2/pull/1426">1426</a>)</p>
</li>
<li>
<p>Fix NPE in <code>RollingFileManager</code>. (<a href="https://github.com/apache/logging-log4j2/pull/1645">1645</a>)</p>
</li>
<li>
<p>Fix <code>log4j-spring-cloud-config-client</code> dependencies to include only those required. (<a href="https://github.com/apache/logging-log4j2/pull/2157">2157</a>)</p>
</li>
<li>
<p>Workaround a Coursier/Ivy dependency resolution bug affecting <code>log4j-slf4j-impl</code> and <code>log4j-mongodb3</code>. (<a href="https://github.com/apache/logging-log4j2/pull/2065">2065</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta2-removed"><a class="anchor" href="#release-notes-3-0-0-beta2-removed"></a>Removed</h3>
<div class="ulist">
<ul>
<li>
<p>Removed legacy <code>2.x</code> properties configuration factory.</p>
</li>
<li>
<p>Remove <code>DefaultLogEventFactory</code></p>
</li>
<li>
<p>Remove <code>log4j-appserver</code> module (<a href="https://github.com/apache/logging-log4j2/pull/2257">2257</a>)</p>
</li>
<li>
<p>Remove <code>org.apache.logging.log4j.core.parser</code> and related packages. (<a href="https://github.com/apache/logging-log4j2/pull/2154">2154</a>)</p>
</li>
<li>
<p>Remove <code>log4j-jcl</code> module (<a href="https://github.com/apache/logging-log4j2/pull/2257">2257</a>)</p>
</li>
<li>
<p>Removed JMX support.</p>
</li>
<li>
<p>Remove <code>log4j-layout-jackson</code> module (<a href="https://github.com/apache/logging-log4j2/pull/2198">2198</a>)</p>
</li>
<li>
<p>Remove <code>log4j-layout-jackson-xml</code> module (<a href="https://github.com/apache/logging-log4j2/pull/2198">2198</a>)</p>
</li>
<li>
<p>Remove <code>log4j2.enable.threadlocals</code> property (<a href="https://github.com/apache/logging-log4j2/issues/2105">2105</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta2-updated"><a class="anchor" href="#release-notes-3-0-0-beta2-updated"></a>Updated</h3>
<div class="ulist">
<ul>
<li>
<p>Update <code>apache/logging-parent</code> to version `` (<a href="https://github.com/apache/logging-log4j2/pull/2191">2191</a>)</p>
</li>
<li>
<p>Update <code>com.fasterxml.jackson:jackson-bom</code> to version <code>2.16.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2127">2127</a>)</p>
</li>
<li>
<p>Update <code>commons-codec:commons-codec</code> to version <code>1.16.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2276">2276</a>)</p>
</li>
<li>
<p>Update <code>io.netty:netty-bom</code> to version <code>4.1.107.Final</code> (<a href="https://github.com/apache/logging-log4j2/pull/2283">2283</a>)</p>
</li>
<li>
<p>Update <code>org.apache.logging:logging-parent</code> to version <code>10.6.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2193">2193</a>)</p>
</li>
<li>
<p>Update <code>org.apache.tomcat:tomcat-juli</code> to version <code>10.1.18</code> (<a href="https://github.com/apache/logging-log4j2/pull/2176">2176</a>)</p>
</li>
<li>
<p>Update <code>org.eclipse.jetty:jetty-bom</code> to version <code>9.4.54.v20240208</code> (<a href="https://github.com/apache/logging-log4j2/pull/2285">2285</a>)</p>
</li>
<li>
<p>Update <code>org.jctools:jctools-core</code> to version <code>4.0.3</code> (<a href="https://github.com/apache/logging-log4j2/pull/2267">2267</a>)</p>
</li>
<li>
<p>Update <code>org.slf4j:slf4j-api</code> to version <code>2.0.10</code> (<a href="https://github.com/apache/logging-log4j2/pull/2136">2136</a>)</p>
</li>
<li>
<p>Update <code>org.springframework.boot:spring-boot-autoconfigure</code> to version <code>3.2.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/2222">2222</a>)</p>
</li>
<li>
<p>Update <code>org.springframework.cloud:spring-cloud-context</code> to version <code>4.1.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2236">2236</a>)</p>
</li>
<li>
<p>Update <code>org.springframework:spring-framework-bom</code> to version <code>6.1.4</code> (<a href="https://github.com/apache/logging-log4j2/pull/2294">2294</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-notes-3-0-0-beta1"><a class="anchor" href="#release-notes-3-0-0-beta1"></a>3.0.0-beta1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is the first beta release of the upcoming major release, i.e., <code>3.0.0</code>.</p>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta1-added"><a class="anchor" href="#release-notes-3-0-0-beta1-added"></a>Added</h3>
<div class="ulist">
<ul>
<li>
<p>Add annotations for nullability. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1477">LOG4J2-1477</a>)</p>
</li>
<li>
<p>Remove deprecated code. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2493">LOG4J2-2493</a>)</p>
</li>
<li>
<p>Add a more generalized dependency injection system to plugins inspired by JSR 330. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2803">LOG4J2-2803</a>)</p>
</li>
<li>
<p>Add and enhance structured properties for per-context settings outside configuration files. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3299">LOG4J2-3299</a>, <a href="https://github.com/apache/logging-log4j2/pull/1473">1473</a>)</p>
</li>
<li>
<p>Automate artifact publishing and release preparation. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3466">LOG4J2-3466</a>)</p>
</li>
<li>
<p>Add support for dependency injection of plugins into container types such as <code>Optional&lt;T&gt;</code>, <code>Collection&lt;T&gt;</code>, <code>Set&lt;T&gt;</code>, <code>Stream&lt;T&gt;</code>, <code>List&lt;T&gt;</code>, and <code>Map&lt;String, T&gt;</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3496">LOG4J2-3496</a>)</p>
</li>
<li>
<p>Add support for <code>ConstraintValidator</code> in plugin classes. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3497">LOG4J2-3497</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta1-changed"><a class="anchor" href="#release-notes-3-0-0-beta1-changed"></a>Changed</h3>
<div class="ulist">
<ul>
<li>
<p>Remove liquibase-log4j2 maven module (<a href="https://github.com/apache/logging-log4j2/pull/1193">1193</a>)</p>
</li>
<li>
<p>Make the output of annotation processing reproducible. (<a href="https://github.com/apache/logging-log4j2/issues/1520">1520</a>)</p>
</li>
<li>
<p>Replace <code>synchronized</code> blocks with locks for improved performance with virtual threads. (<a href="https://github.com/apache/logging-log4j2/issues/1532">1532</a>)</p>
</li>
<li>
<p>Removes additional <code>isFiltered</code> checks in <code>AsyncLoggerConfig</code>. (<a href="https://github.com/apache/logging-log4j2/pull/1550">1550</a>)</p>
</li>
<li>
<p>Ignore exceptions thrown by PropertySources. Eliminate ClassCastException when SimpleLoggerContext is used. (<a href="https://github.com/spring-projects/spring-boot/issues/33450">Spring-33450</a>, <a href="https://github.com/apache/logging-log4j2/issues/1799">1799</a>)</p>
</li>
<li>
<p>Update <code>com.lmax:disruptor</code> to version <code>4.0.0</code> (<a href="https://github.com/apache/logging-log4j2/issues/1829">1829</a>)</p>
</li>
<li>
<p>Migrate most tests to JUnit 5. This includes a more powerful set of test extensions. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2653">LOG4J2-2653</a>)</p>
</li>
<li>
<p>Make Log4j use its own BOM. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3511">LOG4J2-3511</a>)</p>
</li>
<li>
<p>Change encoding of HTTP Basic Authentication to UTF-8. (<a href="https://github.com/apache/logging-log4j2/issues/1970">1970</a>)</p>
</li>
<li>
<p>Upgraded the required compiler version to Java 17</p>
</li>
<li>
<p>Upgraded the required runtime version to Java 17</p>
</li>
<li>
<p>Update <code>actions/checkout</code> to version <code>4.1.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/1869">1869</a>)</p>
</li>
<li>
<p>Update <code>actions/setup-java</code> to version <code>3.13.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/1809">1809</a>)</p>
</li>
<li>
<p>Update <code>actions/setup-python</code> to version <code>4.7.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/1831">1831</a>)</p>
</li>
<li>
<p>Update <code>ch.qos.logback:logback-classic</code> to version <code>1.4.14</code> (<a href="https://github.com/apache/logging-log4j2/pull/2028">2028</a>)</p>
</li>
<li>
<p>Update <code>com.datastax.cassandra:cassandra-driver-core</code> to version <code>3.11.5</code> (<a href="https://github.com/apache/logging-log4j2/pull/1889">1889</a>)</p>
</li>
<li>
<p>Update <code>com.fasterxml.jackson:jackson-bom</code> to version <code>2.16.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/1974">1974</a>)</p>
</li>
<li>
<p>Update <code>com.github.luben:zstd-jni</code> to version <code>1.5.5-11</code> (<a href="https://github.com/apache/logging-log4j2/pull/2032">2032</a>)</p>
</li>
<li>
<p>Update <code>com.github.spotbugs:spotbugs-maven-plugin</code> to version <code>4.7.3.6</code> (<a href="https://github.com/apache/logging-log4j2/pull/1879">1879</a>)</p>
</li>
<li>
<p>Update <code>com.github.tomakehurst:wiremock-jre8</code> to version <code>2.35.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/1765">1765</a>)</p>
</li>
<li>
<p>Update <code>com.google.code.java-allocation-instrumenter:java-allocation-instrumenter</code> to version <code>3.3.4</code> (<a href="https://github.com/apache/logging-log4j2/pull/2102">2102</a>)</p>
</li>
<li>
<p>Update <code>com.google.errorprone:error_prone_core</code> to version <code>2.23.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/1871">1871</a>)</p>
</li>
<li>
<p>Update <code>com.google.guava:guava-testlib</code> to version <code>32.1.3-jre</code> (<a href="https://github.com/apache/logging-log4j2/pull/1934">1934</a>)</p>
</li>
<li>
<p>Update <code>com.h2database:h2</code> to version <code>2.2.224</code> (<a href="https://github.com/apache/logging-log4j2/pull/1917">1917</a>)</p>
</li>
<li>
<p>Update <code>commons-codec:commons-codec</code> to version <code>1.16.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2054">2054</a>)</p>
</li>
<li>
<p>Update <code>commons-io:commons-io</code> to version <code>2.15.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2035">2035</a>)</p>
</li>
<li>
<p>Update <code>commons-logging:commons-logging</code> to version <code>1.3.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2046">2046</a>)</p>
</li>
<li>
<p>Update <code>de.flapdoodle.reverse:de.flapdoodle.reverse</code> to version <code>1.7.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/2000">2000</a>)</p>
</li>
<li>
<p>Update <code>io.netty:netty-bom</code> to version <code>4.1.104.Final</code> (<a href="https://github.com/apache/logging-log4j2/pull/2097">2097</a>)</p>
</li>
<li>
<p>Update <code>net.java.dev.jna:jna</code> to version <code>5.14.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2082">2082</a>)</p>
</li>
<li>
<p>Update <code>org.apache.aries.spifly:org.apache.aries.spifly.dynamic.bundle</code> to version <code>1.3.7</code> (<a href="https://github.com/apache/logging-log4j2/pull/2053">2053</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-compress</code> to version <code>1.25.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2055">2055</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-csv</code> to version <code>1.10.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2041">2041</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-dbcp2</code> to version <code>2.11.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2044">2044</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-lang3</code> to version <code>3.14.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2036">2036</a>)</p>
</li>
<li>
<p>Update <code>org.apache.commons:commons-pool2</code> to version <code>2.12.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2038">2038</a>)</p>
</li>
<li>
<p>Update <code>org.apache.groovy:groovy-bom</code> to version <code>4.0.16</code> (<a href="https://github.com/apache/logging-log4j2/pull/2039">2039</a>)</p>
</li>
<li>
<p>Update <code>org.apache.maven:maven-core</code> to version <code>3.9.6</code> (<a href="https://github.com/apache/logging-log4j2/pull/2049">2049</a>)</p>
</li>
<li>
<p>Update <code>org.apache.maven.surefire:surefire-junit47</code> to version <code>3.2.3</code> (<a href="https://github.com/apache/logging-log4j2/pull/2091">2091</a>)</p>
</li>
<li>
<p>Update <code>org.apache.tomcat:tomcat-juli</code> to version <code>10.1.17</code> (<a href="https://github.com/apache/logging-log4j2/pull/2086">2086</a>)</p>
</li>
<li>
<p>Update <code>org.codehaus.plexus:plexus-utils</code> to version <code>3.5.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/2061">2061</a>)</p>
</li>
<li>
<p>Update <code>org.eclipse.jetty:jetty-bom</code> to version <code>9.4.53.v20231009</code> (<a href="https://github.com/apache/logging-log4j2/pull/1931">1931</a>)</p>
</li>
<li>
<p>Update <code>org.eclipse.persistence:org.eclipse.persistence.jpa</code> to version <code>2.7.13</code> (<a href="https://github.com/apache/logging-log4j2/pull/1933">1933</a>)</p>
</li>
<li>
<p>Update <code>org.eclipse.platform:org.eclipse.osgi</code> to version <code>3.18.600</code> (<a href="https://github.com/apache/logging-log4j2/pull/2064">2064</a>)</p>
</li>
<li>
<p>Update <code>org.elasticsearch.client:elasticsearch-rest-high-level-client</code> to version <code>7.17.16</code> (<a href="https://github.com/apache/logging-log4j2/pull/2085">2085</a>)</p>
</li>
<li>
<p>Update <code>org.graalvm.truffle:truffle-api</code> to version <code>23.1.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/1872">1872</a>)</p>
</li>
<li>
<p>Update <code>org.jctools:jctools-core</code> to version <code>4.0.2</code> (<a href="https://github.com/apache/logging-log4j2/pull/1995">1995</a>)</p>
</li>
<li>
<p>Update <code>org.jmdns:jmdns</code> to version <code>3.5.9</code> (<a href="https://github.com/apache/logging-log4j2/pull/2069">2069</a>)</p>
</li>
<li>
<p>Update <code>org.junit:junit-bom</code> to version <code>5.10.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/1993">1993</a>)</p>
</li>
<li>
<p>Update <code>org.junit-pioneer:junit-pioneer</code> to version <code>2.2.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/1986">1986</a>)</p>
</li>
<li>
<p>Update <code>org.mockito:mockito-bom</code> to version <code>5.8.0</code> (<a href="https://github.com/apache/logging-log4j2/pull/2031">2031</a>)</p>
</li>
<li>
<p>Update <code>org.mongodb:bson</code> to version <code>4.11.1</code> (<a href="https://github.com/apache/logging-log4j2/pull/1991">1991</a>)</p>
</li>
<li>
<p>Update <code>org.springframework.boot:spring-boot</code> to version <code>2.7.17</code> (<a href="https://github.com/apache/logging-log4j2/pull/1902">1902</a>)</p>
</li>
<li>
<p>Update <code>org.springframework.boot:spring-boot-dependencies</code> to version <code>2.7.18</code> (<a href="https://github.com/apache/logging-log4j2/pull/2002">2002</a>)</p>
</li>
<li>
<p>Update <code>org.springframework:spring-framework-bom</code> to version <code>5.3.30</code> (<a href="https://github.com/apache/logging-log4j2/pull/1903">1903</a>)</p>
</li>
<li>
<p>Update <code>org.springframework:spring-test</code> to version <code>5.3.31</code> (<a href="https://github.com/apache/logging-log4j2/pull/1992">1992</a>)</p>
</li>
<li>
<p>Update <code>org.xerial.snappy:snappy-java</code> to version <code>1.1.10.5</code> (<a href="https://github.com/apache/logging-log4j2/pull/1877">1877</a>)</p>
</li>
<li>
<p>Update <code>org.zeromq:jeromq</code> to version <code>0.5.4</code> (<a href="https://github.com/apache/logging-log4j2/pull/1888">1888</a>)</p>
</li>
<li>
<p>Update <code>uk.org.webcompere:system-stubs-core</code> to version <code>2.1.5</code> (<a href="https://github.com/apache/logging-log4j2/pull/2001">2001</a>)</p>
</li>
<li>
<p>Update OpenTest4J from version 1.2.0 to <a href="https://github.com/ota4j-team/opentest4j/releases/tag/r1.3.0">1.3.0</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta1-fixed"><a class="anchor" href="#release-notes-3-0-0-beta1-fixed"></a>Fixed</h3>
<div class="ulist">
<ul>
<li>
<p>Remove locale-dependent <code>toLowerCase/toUpperCase</code> calls. (<a href="https://github.com/apache/logging-log4j2/pull/1281">1281</a>)</p>
</li>
<li>
<p>Add environment variable arbiter. (<a href="https://github.com/apache/logging-log4j2/issues/1312">1312</a>)</p>
</li>
<li>
<p>Fixed logging of java.sql.Date objects by appending it before Log4J tries to call java.util.Date.toInstant() on it. (<a href="https://github.com/apache/logging-log4j2/pull/1366">1366</a>)</p>
</li>
<li>
<p>Adapt the OSGi metadata of <code>log4j-api</code>, <code>log4j-core</code>, <code>log4j-slf4j-impl</code> and <code>log4j-slf4j2-impl</code> to activate the bundle when it is accessed. To achieve that set the <code>Bundle-ActivationPolicy</code> to <code>lazy</code> for the log4j bundles. (<a href="https://github.com/apache/logging-log4j2/issues/1367">1367</a>)</p>
</li>
<li>
<p>Fix runtime dependencies documentation. (<a href="https://github.com/apache/logging-log4j2/pull/1530">1530</a>)</p>
</li>
<li>
<p>Allow to override fqcn in <code>Log4jEventBuilder</code> by implementing <code>CallerBoundaryAware</code>. (<a href="https://github.com/apache/logging-log4j2/pull/1533">1533</a>)</p>
</li>
<li>
<p>Migrate MongoDB tests to JUnit 5 and Flapdoodle Embedded MongoDB 4. (<a href="https://github.com/apache/logging-log4j2/issues/1589">1589</a>)</p>
</li>
<li>
<p>Fixed rollover strategy in the Log4j 1.x compatibility layer. (<a href="https://github.com/apache/logging-log4j2/issues/1650">1650</a>)</p>
</li>
<li>
<p>Only shutdown Log4j after last <code>Log4jServletContextListener</code> is executed. (<a href="https://github.com/apache/logging-log4j2/issues/1782">1782</a>)</p>
</li>
<li>
<p>Fixes context data loss if <code>&lt;AsyncLogger&gt;</code> components are used with an all async logger context. (<a href="https://github.com/apache/logging-log4j2/issues/1786">1786</a>)</p>
</li>
<li>
<p>AppenderLoggingException logging any exception to a MongoDB Appender. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3392">LOG4J2-3392</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-beta1-removed"><a class="anchor" href="#release-notes-3-0-0-beta1-removed"></a>Removed</h3>
<div class="ulist">
<ul>
<li>
<p>Remove <code>GelfLayout</code> (a GELF-compatible layout is still possible using JSON Template Layout) (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove <code>log4j-cassandra</code> (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove <code>log4j-couchdb</code> (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove Jackson-based JSON configuration support. JSON configuration files are now handled through a built-in JSON parser.</p>
</li>
<li>
<p>Moved Log4j Jakarta EE modules (<code>log4j-jakarta-jms</code>, <code>log4j-jakarta-smtp</code>, and <code>log4j-jakarta-web</code>) to their own <a href="https://github.com/apache/logging-log4j-jakarta">repository</a> and <a href="https://logging.apache.org/log4j/jakarta">website</a> (<a href="https://github.com/apache/logging-log4j2/pull/1966">1966</a>)</p>
</li>
<li>
<p>Removed all Java EE modules: <code>log4j-jms</code>, <code>log4j-jpa</code>, <code>log4j-smtp</code>, <code>log4j-web</code> (<a href="https://github.com/apache/logging-log4j2/pull/1966">1966</a>)</p>
</li>
<li>
<p>Remove <code>log4j-jeromq</code> module (users are recommended to migrate to <a href="https://github.com/fbacchella/loghublog4j2">loghublog4j2</a>) (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove <code>log4j-kafka</code> (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove <code>log4j-layout-jackson-json</code> module (it is superseded by JSON Template Layout) (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove <code>log4j-layout-jackson-yaml</code> module (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove legacy OSGi integration. <code>ServiceLoader</code> mechanism should be used instead.</p>
</li>
<li>
<p>Remove <code>log4j-mongodb3</code> module (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
<li>
<p>Remove support for <code>SecurityManager</code>. Starting in Java 21, a custom <code>SecurityManager</code> cannot be used.</p>
</li>
<li>
<p>Remove <code>log4j-spring-boot</code> module (its features are upstreamed to <code>org.springframework.boot:spring-boot-starter-log4j2</code>) (<a href="https://github.com/apache/logging-log4j2/pull/1951">1951</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="release-notes-3-0-0-alpha1"><a class="anchor" href="#release-notes-3-0-0-alpha1"></a>3.0.0-alpha1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As the Java ecosystem has evolved, requests have been received from users, and the need for improved security has
become more apparent, changes were necessariy in Log4j&#8217;s design:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>With the introduction of the Java Platform Module System (JPMS) changes were needed to how the various log4j modules
are packaged. While not every log4j module is now a fully compliant JPMS module with its own module-info.java file,
all the modules likely to be used in a JPMS environment are.</p>
</li>
<li>
<p>Many optional components, such as Scripting, JNDI, JPA and JMS, have been moved to their own modules. This makes
Log4j-core slightly smaller in 3.x and aids in security by not having jars with unwanted behaviors present, making
disabling them via system properties unnecessary.</p>
</li>
<li>
<p>All plugins constructed using Log4j 3.x are now located using Java&#8217;s ServiceLoader. This avoids many of the problems
users had packaging plugins in "shaded" jars as that technology directly supports ServiceLoader. Plugins constructed
using Log4j 2.x will still function in Log4j 3.x.</p>
</li>
<li>
<p>Log4j&#8217;s annotation processor has been individually packaged separate from Log4j-core and the plugin system it enables.
For applications using the module path this makes it easier to provide the annotation processor since it must be
explicitly declared in those cases.</p>
</li>
<li>
<p>Log4j 3.x now uses an internal dependency injection framework to allow plugins to be injected with instances of
classes they are dependent on.</p>
</li>
<li>
<p>Many system properties used by Log4j can now be set to apply to a single LoggerContext making configuration
in application frameworks that support multiple applications more flexible.</p>
</li>
<li>
<p>Some deprecated classes have been removed. However, every attempt has been made to ensure that user code compiled
for Log4j 2.x will continue to operate with the Log4j 3.x libraries present instead.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-alpha1-added"><a class="anchor" href="#release-notes-3-0-0-alpha1-added"></a>Added</h3>
<div class="ulist">
<ul>
<li>
<p>Allow plugins to be created through more flexible dependency injection patterns. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1188">LOG4J2-1188</a>)</p>
</li>
<li>
<p>Allow to force LOG4J2 to use TCCL only. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2171">LOG4J2-2171</a>)</p>
</li>
<li>
<p>Allow web lookup to access more information. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2523">LOG4J2-2523</a>)</p>
</li>
<li>
<p>Allow web lookup of session attributes. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2688">LOG4J2-2688</a>)</p>
</li>
<li>
<p>Add support for injecting plugin configuration via builder methods. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2700">LOG4J2-2700</a>)</p>
</li>
<li>
<p>Add scopes API for customizing plugin instance lifecycle. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2852">LOG4J2-2852</a>)</p>
</li>
<li>
<p>Add qualifier annotations for distinguishing instances of the same type. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2853">LOG4J2-2853</a>)</p>
</li>
<li>
<p>Create standardized dependency injection API. This is supported in several plugin categories and other configurable instances previously defined via system properties. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2854">LOG4J2-2854</a>)</p>
</li>
<li>
<p>Add conditional annotations to support more declarative binding factory bundle classes. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3300">LOG4J2-3300</a>)</p>
</li>
<li>
<p>Add built-in JSON configuration parser for a useful structured configuration file format which only requires the <code>java.base</code> module. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3415">LOG4J2-3415</a>)</p>
</li>
<li>
<p>Add <code>@Ordered</code> annotation to support plugin ordering when two or more plugins within the same category have the same case-insensitive name. (<a href="https://issues.apache.org/jira/browse/LOG4J2-857">LOG4J2-857</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-alpha1-changed"><a class="anchor" href="#release-notes-3-0-0-alpha1-changed"></a>Changed</h3>
<div class="ulist">
<ul>
<li>
<p>Simplify Maven <code>site</code> phase and align it with the one in <code>2.x</code> branch. (<a href="https://github.com/apache/logging-log4j2/pull/1220">1220</a>)</p>
</li>
<li>
<p>Update build to use Java 11 bytecode. (<a href="https://github.com/apache/logging-log4j2/pull/480">480</a>)</p>
</li>
<li>
<p>Convert documentation into AsciiDoc format. (<a href="https://issues.apache.org/jira/browse/LOG4J2-1802">LOG4J2-1802</a>)</p>
</li>
<li>
<p>Rename package <code>core.util.datetime</code> to <code>core.time.internal.format</code> to clarify these classes are to be considered private. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2224">LOG4J2-2224</a>)</p>
</li>
<li>
<p>Move time-related classes from <code>core.util</code> to <code>core.time</code>. Classes considered private moved to <code>core.time.internal</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2225">LOG4J2-2225</a>)</p>
</li>
<li>
<p>Split off Kafka support into a new module <code>log4j-kafka</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2227">LOG4J2-2227</a>)</p>
</li>
<li>
<p>Split off ZeroMq/JeroMq support into a new module <code>log4j-jeromq</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2228">LOG4J2-2228</a>)</p>
</li>
<li>
<p>Split off SMTP support into a new module <code>log4j-smtp</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2230">LOG4J2-2230</a>)</p>
</li>
<li>
<p>Split off CSV layout into a new module <code>log4j-csv</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2231">LOG4J2-2231</a>)</p>
</li>
<li>
<p>Split off JMS support into a new module <code>log4j-jms</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2232">LOG4J2-2232</a>)</p>
</li>
<li>
<p>Split off JDBC support into a new module <code>log4j-jdbc</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2233">LOG4J2-2233</a>)</p>
</li>
<li>
<p>Split off Jackson-based layouts into their own modules: <code>log4j-layout-jackson-json</code>, <code>log4j-layout-jackson-xml</code> and <code>log4j-layout-jackson-yaml</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2237">LOG4J2-2237</a>)</p>
</li>
<li>
<p>Update builder methods from the "with" prefix to the "set" prefix. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2492">LOG4J2-2492</a>)</p>
</li>
<li>
<p>Remove deprecated code. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2493">LOG4J2-2493</a>)</p>
</li>
<li>
<p>Fix typo in method <code>MergeStrategy.mergeConfigurations</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2617">LOG4J2-2617</a>)</p>
</li>
<li>
<p>Separate plugin support to its own module. Plugin annotation processor will now generate a Java source file compatible with java.util.ServiceLoader instead of a binary file. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2621">LOG4J2-2621</a>)</p>
</li>
<li>
<p>Rename <code>PluginVisitor</code> and related classes to <code>ConfigurationInjectionBuilder</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2683">LOG4J2-2683</a>)</p>
</li>
<li>
<p>Locate plugins in modules. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2690">LOG4J2-2690</a>)</p>
</li>
<li>
<p>Split off JNDI support into a new module <code>log4j-jndi</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3242">LOG4J2-3242</a>)</p>
</li>
<li>
<p>Split off scripting support into a new module <code>log4j-script</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3307">LOG4J2-3307</a>)</p>
</li>
<li>
<p>Defer loading of <code>StrLookup</code> plugin classes until first usage. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3441">LOG4J2-3441</a>)</p>
</li>
<li>
<p>Flatten the <code>ThreadContextMap</code> interfaces with default methods. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3626">LOG4J2-3626</a>)</p>
</li>
<li>
<p>Allow Log4j properties to be provided in JSON files. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3658">LOG4J2-3658</a>)</p>
</li>
<li>
<p>Unify plugin builders and plugin factories. (<a href="https://issues.apache.org/jira/browse/LOG4J2-860">LOG4J2-860</a>)</p>
</li>
<li>
<p>Update Conversant Disruptor from 1.12.15 to 1.12.21. The new version requires Java 11. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2079">LOG4J2-2079</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-alpha1-fixed"><a class="anchor" href="#release-notes-3-0-0-alpha1-fixed"></a>Fixed</h3>
<div class="ulist">
<ul>
<li>
<p><code>EnvironmentLookup</code> may throw NPE. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2244">LOG4J2-2244</a>)</p>
</li>
<li>
<p>Move <code>ProcessIdUtil</code> from <code>log4j-api</code> to <code>log4j-core</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2279">LOG4J2-2279</a>)</p>
</li>
<li>
<p><code>FixedDateFormat</code> parses timezone offsets, -8:00 is interpreted as GMT-8:00. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2306">LOG4J2-2306</a>)</p>
</li>
<li>
<p><code>RoutingAppender.Builder#setPurgePolicy</code> fluently returns the builder instance. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2545">LOG4J2-2545</a>)</p>
</li>
<li>
<p>Reduce Log4j 2 initialization time by deferring loading Plugin classes. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2795">LOG4J2-2795</a>)</p>
</li>
<li>
<p>Fixes incorrect constructor call in <code>LocalizedMessageFactory</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-2850">LOG4J2-2850</a>)</p>
</li>
<li>
<p>Fix file descriptor leak on Tomcat. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3663">LOG4J2-3663</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="release-notes-3-0-0-alpha1-removed"><a class="anchor" href="#release-notes-3-0-0-alpha1-removed"></a>Removed</h3>
<div class="ulist">
<ul>
<li>
<p>Remove support for <code>java.io.Serializable</code> in several classes including <code>Message</code>, <code>Layout</code>, <code>LogEvent</code>, <code>Logger</code>, and <code>ReadOnlyStringMap</code>. (<a href="https://issues.apache.org/jira/browse/LOG4J2-3228">LOG4J2-3228</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>
    Copyright  1999-2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>.
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache Software License, Version 2.0</a>.
    Please read our <a href="https://privacy.apache.org/policies/privacy-policy-public.html">privacy policy</a>.
  </p>
  <p>
    Apache, Log4j, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.
    Oracle and Java are registered trademarks of Oracle and/or its affiliates.
    Other names may be trademarks of their respective owners.
  </p>
</footer>
<script id="site-script" src="./_/js/site.js" data-ui-root-path="./_"></script>
<script async src="./_/js/vendor/highlight.js"></script>
<!-- `@asciidoctor/tabs` extension scripts -->
<script async src="./_/js/vendor/tabs.js"></script>
  </body>
</html>
